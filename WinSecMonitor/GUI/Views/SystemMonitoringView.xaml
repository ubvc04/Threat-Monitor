<UserControl x:Class="WinSecMonitor.GUI.Views.SystemMonitoringView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:WinSecMonitor.GUI.Views"
             mc:Ignorable="d" 
             d:DesignHeight="600" d:DesignWidth="800">
    <Grid>
        <TabControl>
            <!-- System Information Tab -->
            <TabItem Header="System Info">
                <ScrollViewer>
                    <StackPanel Margin="10">
                        <GroupBox Header="Windows Information" Margin="0,0,0,10">
                            <Grid Margin="10">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="150"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                
                                <TextBlock Grid.Row="0" Grid.Column="0" Text="Windows Version:" FontWeight="Bold"/>
                                <TextBlock Grid.Row="0" Grid.Column="1" Text="{Binding SystemInfo.WindowsVersion}"/>
                                
                                <TextBlock Grid.Row="1" Grid.Column="0" Text="Build Number:" FontWeight="Bold"/>
                                <TextBlock Grid.Row="1" Grid.Column="1" Text="{Binding SystemInfo.WindowsBuild}"/>
                                
                                <TextBlock Grid.Row="2" Grid.Column="0" Text="Architecture:" FontWeight="Bold"/>
                                <TextBlock Grid.Row="2" Grid.Column="1" Text="{Binding SystemInfo.WindowsArchitecture}"/>
                                
                                <TextBlock Grid.Row="3" Grid.Column="0" Text="Install Date:" FontWeight="Bold"/>
                                <TextBlock Grid.Row="3" Grid.Column="1" Text="{Binding SystemInfo.InstallDate, StringFormat=d}"/>
                                
                                <TextBlock Grid.Row="4" Grid.Column="0" Text="Last Boot Time:" FontWeight="Bold"/>
                                <TextBlock Grid.Row="4" Grid.Column="1" Text="{Binding SystemInfo.LastBootUpTime}"/>
                            </Grid>
                        </GroupBox>
                        
                        <Button Content="Refresh System Information" Command="{Binding RefreshSystemInfoCommand}" HorizontalAlignment="Right" Margin="0,0,0,10" Padding="10,5"/>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
            
            <!-- Hardware Monitoring Tab -->
            <TabItem Header="Hardware">
                <ScrollViewer>
                    <StackPanel Margin="10">
                        <!-- CPU and RAM Usage -->
                        <GroupBox Header="CPU and RAM Usage" Margin="0,0,0,10">
                            <Grid Margin="10">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                
                                <!-- CPU Usage -->
                                <StackPanel Grid.Column="0" Margin="0,0,5,0">
                                    <TextBlock Text="CPU Usage" HorizontalAlignment="Center" FontWeight="Bold"/>
                                    <ProgressBar Value="{Binding HardwareInfo.CpuUsage}" Maximum="100" Height="20" Margin="0,5"/>
                                    <TextBlock Text="{Binding HardwareInfo.CpuUsage, StringFormat={}{0:F1}%}" HorizontalAlignment="Center"/>
                                </StackPanel>
                                
                                <!-- RAM Usage -->
                                <StackPanel Grid.Column="1" Margin="5,0,0,0">
                                    <TextBlock Text="RAM Usage" HorizontalAlignment="Center" FontWeight="Bold"/>
                                    <ProgressBar Value="{Binding HardwareInfo.RamUsage}" Maximum="100" Height="20" Margin="0,5"/>
                                    <TextBlock Text="{Binding HardwareInfo.RamUsage, StringFormat={}{0:F1}%}" HorizontalAlignment="Center"/>
                                    <TextBlock Text="{Binding RamDetails}" HorizontalAlignment="Center" Margin="0,5,0,0"/>
                                </StackPanel>
                            </Grid>
                        </GroupBox>
                        
                        <!-- Disk Information -->
                        <GroupBox Header="Disk Information" Margin="0,0,0,10">
                            <ListView ItemsSource="{Binding HardwareInfo.Disks}" Margin="10" Height="150">
                                <ListView.View>
                                    <GridView>
                                        <GridViewColumn Header="Drive" DisplayMemberBinding="{Binding DriveLetter}" Width="50"/>
                                        <GridViewColumn Header="Volume Name" DisplayMemberBinding="{Binding VolumeName}" Width="120"/>
                                        <GridViewColumn Header="Total Size" DisplayMemberBinding="{Binding FormattedTotalSize}" Width="80"/>
                                        <GridViewColumn Header="Free Space" DisplayMemberBinding="{Binding FormattedFreeSpace}" Width="80"/>
                                        <GridViewColumn Header="Used Space" DisplayMemberBinding="{Binding FormattedUsedSpace}" Width="80"/>
                                        <GridViewColumn Header="Usage" Width="150">
                                            <GridViewColumn.CellTemplate>
                                                <DataTemplate>
                                                    <Grid>
                                                        <ProgressBar Value="{Binding UsagePercentage}" Maximum="100" Width="120" Height="15"/>
                                                        <TextBlock Text="{Binding UsagePercentage, StringFormat={}{0:F1}%}" 
                                                                   HorizontalAlignment="Center" VerticalAlignment="Center" 
                                                                   FontSize="10"/>
                                                    </Grid>
                                                </DataTemplate>
                                            </GridViewColumn.CellTemplate>
                                        </GridViewColumn>
                                    </GridView>
                                </ListView.View>
                            </ListView>
                        </GroupBox>
                        
                        <!-- Network Adapters -->
                        <GroupBox Header="Network Adapters" Margin="0,0,0,10">
                            <ListView ItemsSource="{Binding HardwareInfo.NetworkAdapters}" Margin="10" Height="150">
                                <ListView.View>
                                    <GridView>
                                        <GridViewColumn Header="Name" DisplayMemberBinding="{Binding Name}" Width="120"/>
                                        <GridViewColumn Header="Status" DisplayMemberBinding="{Binding Status}" Width="80"/>
                                        <GridViewColumn Header="IP Address" DisplayMemberBinding="{Binding IPv4Address}" Width="120"/>
                                        <GridViewColumn Header="MAC Address" DisplayMemberBinding="{Binding MacAddress}" Width="120"/>
                                        <GridViewColumn Header="Speed" DisplayMemberBinding="{Binding FormattedSpeed}" Width="100"/>
                                        <GridViewColumn Header="Sent" DisplayMemberBinding="{Binding FormattedBytesSent}" Width="80"/>
                                        <GridViewColumn Header="Received" DisplayMemberBinding="{Binding FormattedBytesReceived}" Width="80"/>
                                    </GridView>
                                </ListView.View>
                            </ListView>
                        </GroupBox>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
            
            <!-- Applications Tab -->
            <TabItem Header="Applications">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    
                    <!-- Search Box -->
                    <Grid Grid.Row="0" Margin="0,0,0,10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBox Grid.Column="0" Text="{Binding ApplicationSearchText, UpdateSourceTrigger=PropertyChanged}" 
                                 Margin="0,0,10,0" Padding="5" VerticalContentAlignment="Center"/>
                        <Button Grid.Column="1" Content="Search" Command="{Binding SearchApplicationsCommand}" Padding="10,5"/>
                    </Grid>
                    
                    <!-- Applications List -->
                    <ListView Grid.Row="1" ItemsSource="{Binding FilteredApplications}">
                        <ListView.View>
                            <GridView>
                                <GridViewColumn Header="Name" DisplayMemberBinding="{Binding Name}" Width="200"/>
                                <GridViewColumn Header="Version" DisplayMemberBinding="{Binding Version}" Width="100"/>
                                <GridViewColumn Header="Publisher" DisplayMemberBinding="{Binding Publisher}" Width="150"/>
                                <GridViewColumn Header="Install Date" DisplayMemberBinding="{Binding FormattedInstallDate}" Width="100"/>
                                <GridViewColumn Header="Architecture" DisplayMemberBinding="{Binding Architecture}" Width="80"/>
                                <GridViewColumn Header="Install Location" DisplayMemberBinding="{Binding InstallLocation}" Width="200"/>
                            </GridView>
                        </ListView.View>
                    </ListView>
                    
                    <!-- Refresh Button -->
                    <Button Grid.Row="2" Content="Refresh Applications" Command="{Binding RefreshApplicationsCommand}" 
                            HorizontalAlignment="Right" Margin="0,10,0,0" Padding="10,5"/>
                </Grid>
            </TabItem>
            
            <!-- Processes Tab -->
            <TabItem Header="Processes">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    
                    <!-- Search Box -->
                    <Grid Grid.Row="0" Margin="0,0,0,10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBox Grid.Column="0" Text="{Binding ProcessSearchText, UpdateSourceTrigger=PropertyChanged}" 
                                 Margin="0,0,10,0" Padding="5" VerticalContentAlignment="Center"/>
                        <Button Grid.Column="1" Content="Search" Command="{Binding SearchProcessesCommand}" Padding="10,5"/>
                    </Grid>
                    
                    <!-- Processes List -->
                    <ListView Grid.Row="1" ItemsSource="{Binding FilteredProcesses}">
                        <ListView.View>
                            <GridView>
                                <GridViewColumn Header="PID" DisplayMemberBinding="{Binding Id}" Width="60"/>
                                <GridViewColumn Header="Name" DisplayMemberBinding="{Binding Name}" Width="150"/>
                                <GridViewColumn Header="CPU" DisplayMemberBinding="{Binding FormattedCpuUsage}" Width="60"/>
                                <GridViewColumn Header="Memory" DisplayMemberBinding="{Binding FormattedMemoryUsage}" Width="80"/>
                                <GridViewColumn Header="Start Time" DisplayMemberBinding="{Binding FormattedStartTime}" Width="150"/>
                                <GridViewColumn Header="Threads" DisplayMemberBinding="{Binding ThreadCount}" Width="60"/>
                                <GridViewColumn Header="Company" DisplayMemberBinding="{Binding CompanyName}" Width="150"/>
                                <GridViewColumn Header="Path" DisplayMemberBinding="{Binding ExecutablePath}" Width="200"/>
                            </GridView>
                        </ListView.View>
                    </ListView>
                    
                    <!-- Refresh Button -->
                    <Button Grid.Row="2" Content="Refresh Processes" Command="{Binding RefreshProcessesCommand}" 
                            HorizontalAlignment="Right" Margin="0,10,0,0" Padding="10,5"/>
                </Grid>
            </TabItem>
            
            <!-- Services Tab -->
            <TabItem Header="Services">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    
                    <!-- Search Box -->
                    <Grid Grid.Row="0" Margin="0,0,0,10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBox Grid.Column="0" Text="{Binding ServiceSearchText, UpdateSourceTrigger=PropertyChanged}" 
                                 Margin="0,0,10,0" Padding="5" VerticalContentAlignment="Center"/>
                        <Button Grid.Column="1" Content="Search" Command="{Binding SearchServicesCommand}" Padding="10,5"/>
                    </Grid>
                    
                    <!-- Services List -->
                    <ListView Grid.Row="1" ItemsSource="{Binding FilteredServices}">
                        <ListView.View>
                            <GridView>
                                <GridViewColumn Header="Name" DisplayMemberBinding="{Binding Name}" Width="150"/>
                                <GridViewColumn Header="Display Name" DisplayMemberBinding="{Binding DisplayName}" Width="200"/>
                                <GridViewColumn Header="Status" DisplayMemberBinding="{Binding Status}" Width="80"/>
                                <GridViewColumn Header="Start Type" DisplayMemberBinding="{Binding StartType}" Width="100"/>
                                <GridViewColumn Header="PID" DisplayMemberBinding="{Binding ProcessId}" Width="60"/>
                                <GridViewColumn Header="Account" DisplayMemberBinding="{Binding AccountName}" Width="150"/>
                                <GridViewColumn Header="Description" DisplayMemberBinding="{Binding Description}" Width="200"/>
                            </GridView>
                        </ListView.View>
                    </ListView>
                    
                    <!-- Refresh Button -->
                    <Button Grid.Row="2" Content="Refresh Services" Command="{Binding RefreshServicesCommand}" 
                            HorizontalAlignment="Right" Margin="0,10,0,0" Padding="10,5"/>
                </Grid>
            </TabItem>
        </TabControl>
    </Grid>
</UserControl>